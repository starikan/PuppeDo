---
name: main
description: Main test

data:
  mainTestData: foo

dataExt:
  - dataExtMain

beforeTest:
  - envSwitch:
      bindData: { envName: myEnv }

runTest:
  - case:
      description: Colored Case atom
      runTest:
        - goTo:
            bD: { url: baseUrl }

        - checkSelector:
            bindSelectors: { selector: nested.wikiInput }
            errorIfResult: 'exists === false'
            options:
              screenshot: true

  - blank:
      bindDescription: "'Nested click ' + nested.wikiInput"
      logOptions:
        textColor: black
        backgroundColor: white
      runTest:
        - clickSelector:
            bS: { selector: nested.wikiInput }

  - blank:
      description: Set result with colors
      logOptions:
        textColor: colorUnknown
        backgroundColor: colorUnknown
      result: { $i: 0 }

  - typeInput:
      bS: { selector: wikiInput }
      bD: { text: $i }
      options: { noClearInput: true }
      result: { $i: $i + 1 }
      repeat: 2

  - getText:
      bS: { selector: wikiInput }
      r: { result: text }
      errorIfResult: "result !== '01'"

  - clickWithNestedWait:
      bS: { wikiInputInside: wikiInput }
      # debug: true
      o:
        hidden: false
        visible: true
        timeDelay: 0
        count: 1
        delay: 0
        button: left
        logAfter: false

  - waitTime:
      description: Checking If statement
      d: { time: 2000 }
      if: '1 !== 1'
      errorIf: '1 === 1'
      errorIfResult: '1 === 1'

  - getText:
      description: Get text with repeat
      s: { selector: title }
      r: { titleText: text }
      repeat: 3

  - blank:
      description: Some data function
      let: { myDataFunction: '"text".replace("text", "Function text: ") + titleText' }

  - blank:
      description: Bind data from function
      const: { myDataBinded: myDataFunction}

  - typeInput:
      description: Input some text in field INPUT
      bS: { selector: wikiInput }
      ðŸ”‘ðŸ“‹: { text: myDataBinded }
      o:
        screenshot: true
        fullpage: true

  # - cdpGetSelector:

  - todo:
      description: Make awesome test

  - subTest:

  - blank:

---
name: mainWithError
type: test

data:
  mainTestData: foo

dataExt:
  - dataExtMain

beforeTest:
  - envSwitch:
      data: { envName: 'mainEnv' }

runTest:
  - goTo:
      bD: { url: baseUrl }
  - clickSelector:
      description: Input some text in field INPUT
      s: { selector: '.wikiInputFake' }